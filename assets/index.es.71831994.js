import{p as e,g as t,h as o,o as a,c as l,a as i,n as s,u as n,f as d,i as r,j as c,v as u,b as m,t as p,k as v,l as h,m as y,q as g,s as f,x as w,w as b,T as z,y as V,z as L,e as M,F as T,A as x,B as P,C as k}from"./app.2628b72f.js";var S=Object.defineProperty,E=Object.defineProperties,_=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,O=(e,t,o)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,B=(e,t)=>{for(var o in t||(t={}))R.call(t,o)&&O(e,o,t[o]);if(C)for(var o of C(t))H.call(t,o)&&O(e,o,t[o]);return e},I=(e,t)=>E(e,_(t));function A(e,t,o,a){var l,i=!1,s=0;function n(){l&&clearTimeout(l)}function d(){for(var d=arguments.length,r=new Array(d),c=0;c<d;c++)r[c]=arguments[c];var u=this,m=Date.now()-s;function p(){s=Date.now(),o.apply(u,r)}function v(){l=void 0}i||(a&&!l&&p(),n(),void 0===a&&m>e?p():!0!==t&&(l=setTimeout(a?v:p,void 0===a?e-m:e)))}return"boolean"!=typeof t&&(a=o,o=t,t=void 0),d.cancel=function(){n(),i=!0},d}function D(e,t,o){return void 0===o?A(e,t,!1):A(e,o,!1!==t)}!function(e){var t,o,a,l,i,s='<svg><symbol id="icon-pip" viewBox="0 0 1024 1024"><path d="M812 136.00000001a96 96 0 0 1 95.616 87.264L908 232.00000001v180a36 36 0 0 1-71.52 5.856l-0.48-5.856V232.00000001a24 24 0 0 0-19.2-23.52l-4.8-0.48H212a24 24 0 0 0-23.52 19.2l-0.48 4.8v540a24 24 0 0 0 19.2 23.52l4.8 0.48H392a36 36 0 0 1 5.856 71.52l-5.856 0.48H212a96 96 0 0 1-95.616-87.264l-0.384-8.736V232.00000001a96 96 0 0 1 87.264-95.616L212 136.00000001h600z"  ></path><path d="M812 496.00000001h-240a96 96 0 0 0-96 96v180a96 96 0 0 0 96 96h240a96 96 0 0 0 96-96V592.00000001a96 96 0 0 0-96-96z m-240 72h240a24 24 0 0 1 24 24v180a24 24 0 0 1-24 24h-240a24 24 0 0 1-24-24V592.00000001a24 24 0 0 1 24-24z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M553.26464869 876.98779322c6.78955053 0 14.50195287 5.93261719 14.50195287 15.22705078a15.02929689 15.02929689 0 0 1-14.50195287 15.2929685 15.02929689 15.02929689 0 0 1-14.37011744-15.2929685c0-9.36035131 7.64648463-15.22705078 14.37011744-15.22705078z m-149.83154322-13.11767629c12.3266599 0 19.24804662 10.15136693 19.24804663 20.30273463 0 10.21728541-6.92138672 20.36865234-19.24804663 20.36865237-12.26074219 0-19.11621119-9.55810522-19.11621119-20.36865237 0-10.74462866 6.855469-20.30273463 19.11621119-20.30273463zM271.13574219 784.24121119c12.3266599 0 24.06005885 10.67871094 24.06005884 25.44433543a24.91699219 24.91699219 0 0 1-24.06005884 25.44433619c-12.3266599 0-23.99414037-11.46972656-23.99414037-25.44433619 0-13.97460963 11.66748047-25.44433619 23.99414037-25.44433543zM181.09179713 652.27343725c19.11621119 0 28.8061526 15.95214869 28.80615184 30.71777394 0 14.76562525-9.68994141 30.58593775-28.80615184 30.58593699-19.11621119 0-28.87207031-16.74316432-28.87207031-30.65185545 0-13.97460963 9.68994141-30.65185547 28.87207031-30.65185548zM841.589844 437.38085963c36.38671875 0 65.9179685 33.88183568 65.9179685 70.26855444S877.97656275 577.9179685 841.589844 577.9179685s-65.9179685-33.88183568-65.91796925-70.26855445 29.53124974-70.26855443 65.91796925-70.26855442zM150.11035156 491.82910156c19.11621119 0 34.14550807 16.47949193 33.61816406 35.59570313-0.527344 19.18212891-14.50195287 35.59570313-33.61816406 35.59570312-19.11621119 0-33.61816406-16.41357422-33.61816406-35.59570312 0-19.11621119 14.50195287-35.59570313 33.61816406-35.59570313z m644.28222656-203.09326172a65.9179685 65.9179685 0 1 1 0 131.83593776 65.9179685 65.9179685 0 0 1 0-131.83593776z m-611.71874974 43.50585938c19.11621119 0 40.07812525 14.10644505 40.07812449 40.67138697a39.68261744 39.68261744 0 0 1-40.14404297 40.67138622c-19.11621119 0-36.78222656-17.99560547-36.78222656-40.67138622s17.66601537-40.73730469 36.78222656-40.73730469zM698.54785131 174.63183594c36.38671875 0 57.61230443 27.22412135 57.61230519 63.6767578 0 36.38671875-32.10205053 58.40332005-57.61230519 58.40332007-25.57617162 0-57.67822291-22.01660131-57.67822215-58.40332007 0-36.45263647 21.29150416-63.67675781 57.67822215-63.6767578z m-421.54540965 27.75146459c19.11621119 0 43.30810548 15.09521459 43.30810547 45.81298853a44.03320338 44.03320338 0 0 1-43.30810547 45.87890624 44.03320338 44.03320338 0 0 1-43.24218775-45.87890624c0-30.71777318 24.12597655-45.81298853 43.24218775-45.81298853zM560.97705103 116.4921875c25.51025391 0 52.86621068 19.57763673 52.86621069 56.03027318 0 36.38671875-27.35595678 55.23925756-52.86621069 55.23925832-25.51025391 0-52.86621068-19.24804662-52.86621144-55.63476611S535.46679713 116.4921875 560.97705103 116.4921875zM411.0795901 126.05029273c25.51025391 0 47.9882815 20.10498071 47.98828074 50.88867237 0 30.71777318-22.47802759 50.82275391-47.98828074 50.8227539-25.57617162 0-48.12011693-20.10498071-48.12011769-50.8227539 0-30.78369166 22.54394531-50.88867162 48.12011769-50.88867237z" fill="#979797" ></path></symbol><symbol id="icon-play" viewBox="0 0 1024 1024"><path d="M209.07804445 822.84452978V201.15547022c0-57.39205973 39.72937955-78.71310507 88.7095296-47.83836729l480.36431644 302.78214542c49.05005511 30.89803947 49.00345173 80.92676551 0 111.82480498L297.78757405 870.68289707C248.73751893 901.60423822 209.07804445 880.14338275 209.07804445 822.84452978z"  ></path></symbol><symbol id="icon-pause" viewBox="0 0 1024 1024"><path d="M302.2848 139.17297778a93.20675555 93.20675555 0 0 1 93.20675555 93.20675555v559.24053334a93.20675555 93.20675555 0 1 1-186.4135111 0V232.37973333a93.20675555 93.20675555 0 0 1 93.20675555-93.20675555z m419.4304 0a93.20675555 93.20675555 0 0 1 93.20675555 93.20675555v559.24053334a93.20675555 93.20675555 0 1 1-186.4135111 0V232.37973333a93.20675555 93.20675555 0 0 1 93.20675555-93.20675555z"  ></path></symbol><symbol id="icon-screen" viewBox="0 0 1024 1024"><path d="M213.866 444.3515l0-174.0234375 191.24437499 191.244375c14.17246875 14.17246875 37.07859375 14.17246875 51.25106251 0s14.17246875-37.07859375 0-51.2510625L262.15128125 216.02853125 434.69140626 216.02853125c20.02218751 0 36.25509375-16.2320625 36.25509374-36.25509375s-16.2320625-36.25509375-36.25509375-36.25509375l-257.0805 0c-20.02218751 0-36.25509375 16.2320625-36.25509375 36.25509375l0 264.49621875c0 20.02218751 16.2320625 36.25509375 36.25509375 36.25509376s36.25509375-16.15021875 36.25509375-36.17325001z m665.77190625 400.4521875L879.63790625 580.30746875c0-20.02218751-16.2320625-36.25509375-36.25509375-36.25509375s-36.25509375 16.2320625-36.25509375 36.25509375l0 173.94075-191.1616875-191.244375c-14.17246875-14.17246875-37.07859375-14.17246875-51.25106249 0a36.19771875 36.19771875 0 0 0-10.62956251 25.62553126c0 9.31078125 3.54290625 18.53971875 10.6295625 25.62553124l194.211 194.211L586.385 808.46590625c-20.02218751 0-36.25509375 16.2320625-36.25509376 36.25509375s16.2320625 36.25509375 36.25509376 36.25509375L843.4655 880.97609375c19.9395 0.08184375 36.17240625-16.15021874 36.17240625-36.17240625z"  ></path></symbol><symbol id="icon-web-screen" viewBox="0 0 1024 1024"><path d="M704 512h64V256h-256v64h192v192zM256 768h256v-64h-192v-192H256v256z"  ></path><path d="M832 896H192a64.064 64.064 0 0 1-64-64V192a64.064 64.064 0 0 1 64-64h640a64.064 64.064 0 0 1 64 64v640a64.064 64.064 0 0 1-64 64zM192 192v640h640.032L832 192z"  ></path></symbol><symbol id="icon-settings" viewBox="0 0 1024 1024"><path d="M864 536.32V512v-24.64l61.44-53.76A64 64 0 0 0 937.6 352l-75.52-128a64 64 0 0 0-55.36-32 64 64 0 0 0-20.48 3.2l-77.76 26.24a363.2 363.2 0 0 0-41.92-24l-16.32-80.64a64 64 0 0 0-64-51.52h-149.76a64 64 0 0 0-64 51.52l-16.32 80.64a367.36 367.36 0 0 0-42.24 24l-76.16-27.52A64 64 0 0 0 217.28 192a64 64 0 0 0-55.36 32L86.4 352a64 64 0 0 0 13.12 80.32L160 487.68v48.96l-60.48 53.76A64 64 0 0 0 86.4 672l75.52 128a64 64 0 0 0 55.36 32 64 64 0 0 0 20.48-3.2l77.76-26.24a363.2 363.2 0 0 0 41.92 24l16.32 80.64a64 64 0 0 0 64 51.52h151.04a64 64 0 0 0 64-51.52l16.32-80.64a367.36 367.36 0 0 0 42.24-24l77.44 26.24a64 64 0 0 0 20.48 3.2 64 64 0 0 0 55.36-32l72.96-128a64 64 0 0 0-13.12-80.32zM806.72 768l-109.76-37.12a283.52 283.52 0 0 1-86.72 50.24L587.52 896h-151.04l-22.72-113.6a299.52 299.52 0 0 1-86.4-50.24L217.28 768l-75.52-128 87.04-76.8a284.8 284.8 0 0 1 0-100.16L141.76 384l75.52-128 109.76 37.12a283.52 283.52 0 0 1 86.72-50.24L436.48 128h151.04l22.72 113.6a299.52 299.52 0 0 1 86.4 50.24L806.72 256l75.52 128-87.04 76.8a284.8 284.8 0 0 1 0 100.16L882.24 640z"  ></path><path d="M512 704a192 192 0 1 1 192-192 190.08 190.08 0 0 1-192 192z m0-320a125.12 125.12 0 0 0-128 128 125.12 125.12 0 0 0 128 128 125.12 125.12 0 0 0 128-128 125.12 125.12 0 0 0-128-128z"  ></path></symbol><symbol id="icon-volume-down" viewBox="0 0 1024 1024"><path d="M803.2 341.12L754.56 384a192 192 0 0 1-5.76 254.08l47.04 43.52a256 256 0 0 0 7.36-338.88zM640 960a32 32 0 0 1-22.72-9.6L373.44 704H160a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32h213.44l243.84-246.4a32 32 0 0 1 45.12 0 32 32 0 0 1 9.6 22.4v832a32 32 0 0 1-32 32zM192 640h192a37.44 37.44 0 0 1 25.28 9.6L608 850.24V173.76l-198.72 200.64a37.44 37.44 0 0 1-25.28 9.6H192z"  ></path></symbol><symbol id="icon-volume-up" viewBox="0 0 1024 1024"><path d="M869.12 258.56l-48.96 41.28a320 320 0 0 1-9.28 423.36l47.04 44.8a384 384 0 0 0 11.2-508.16z"  ></path><path d="M690.56 384a192 192 0 0 1-5.76 254.08l47.04 43.52a256 256 0 0 0 7.36-338.88zM576 960a32 32 0 0 1-22.72-9.6L309.44 704H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32h213.44l243.84-246.4a32 32 0 0 1 45.12 0 32 32 0 0 1 9.6 22.4v832a32 32 0 0 1-32 32zM128 640h194.56a32 32 0 0 1 22.72 9.6L544 850.24V173.76l-198.72 200.64a32 32 0 0 1-22.72 9.6H128z"  ></path></symbol><symbol id="icon-volume-mute" viewBox="0 0 1024 1024"><path d="M992 397.12L946.88 352 832 466.88 717.12 352 672 397.12 786.88 512 672 626.88 717.12 672 832 557.12 946.88 672 992 626.88 877.12 512 992 397.12zM576 960a32 32 0 0 1-22.72-9.6L309.44 704H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32h213.44l243.84-246.4a32 32 0 0 1 45.12 0 32 32 0 0 1 9.6 22.4v832a32 32 0 0 1-32 32zM128 640h192a37.44 37.44 0 0 1 25.28 9.6L544 850.24V173.76l-198.72 200.64a37.44 37.44 0 0 1-25.28 9.6H128z"  ></path></symbol></svg>',n=(n=document.getElementsByTagName("script"))[n.length-1].getAttribute("data-injectcss");if(n&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(r){console&&console.log(r)}}function d(){i||(i=!0,a())}t=function(){var e,t,o,a;(t=document.createElement("div")).innerHTML=s,s=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",t=e,(e=document.body).firstChild?(o=t,(a=e.firstChild).parentNode.insertBefore(o,a)):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(o=function(){document.removeEventListener("DOMContentLoaded",o,!1),t()},document.addEventListener("DOMContentLoaded",o,!1)):document.attachEvent&&(a=t,l=e.document,i=!1,function e(){try{l.documentElement.doScroll("left")}catch(r){return void setTimeout(e,50)}d()}(),l.onreadystatechange=function(){"complete"==l.readyState&&(l.onreadystatechange=null,d())})}(window),e("data-v-1edff218");const $=["xlink:href"];t();const j=Object.assign({name:"d-icon"},{props:{icon:String,size:[Number,String]},emits:["play"],setup:function(e,{emit:t}){const d=e,r=o((()=>{let e=/^\d+$/.test(d.size)?d.size+"px":d.size;return{width:e,height:e}}));return(t,o)=>(a(),l("svg",{class:"d-icon",style:s(n(r)),"aria-hidden":"true"},[i("use",{"xlink:href":`#${e.icon}`},null,8,$)],4))}});j.__scopeId="data-v-1edff218",e("data-v-3c3961f4");const F={class:"d-player-top"},X={class:"top-title"},Y={class:"top-title"};t();const N={props:{source:{default:()=>({})}},setup(e){Date.prototype.format=function(e){let t={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var o in t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e};let t=h("00:00:00");t.value=(new Date).format("hh:mm:ss");let o=null;return o=setInterval((()=>{t.value=(new Date).format("hh:mm:ss")}),1e3),k((()=>{clearInterval(o)})),(o,s)=>(a(),l("div",F,[i("p",X,p(e.source.title||""),1),i("p",Y,p(n(t)),1)]))},__scopeId:"data-v-3c3961f4"};e("data-v-2e506967");const q={class:"d-message"},U={class:"d-message-info"},W={class:"d-message-info"},G=d("5X速播放中 ");t();var J=r({props:["state"],setup:e=>(t,o)=>c((a(),l("div",q,[c(i("li",U,[m(j,{size:"18",class:"d-message-icon",icon:"icon-volume-"+(0==e.state.volumeSize?"mute":e.state.volumeSize>50?"up":"down")},null,8,["icon"]),d(" "+p(~~e.state.volumeSize)+"% ",1)],512),[[u,"volume"==e.state.handleType]]),c(i("li",W,[m(j,{size:"12",icon:"icon-play"}),m(j,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),G],512),[[u,"playbackRate"==e.state.handleType||e.state.isMultiplesPlay]])],512)),[[u,e.state.handleType||e.state.isMultiplesPlay]])});J.__scopeId="data-v-2e506967",e("data-v-359b5c51");const K=["checked","true-value","false-value"],Q=i("span",{class:"d-switch_action"},null,-1);t();var Z=r({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e;v((t=>({"4ce2f51b":e.width,"636e6792":e.activeColor})));const d=h(null),r=o((()=>s.modelValue===s.trueValue)),c=()=>{g((()=>{const e=d.value.checked;t("update:modelValue",e)}))};return(t,o)=>(a(),l("div",{class:y(["d-switch",{"is-checked":n(r)}])},[i("input",{class:"d-switch__input",ref:d,type:"checkbox",checked:n(r),onChange:c,"true-value":e.trueValue,"false-value":e.falseValue},null,40,K),Q],2))}});Z.__scopeId="data-v-359b5c51",e("data-v-f8bcab08");const ee={class:"d-loading"};t();var te=r({props:{text:{type:String,default:""}},setup:e=>(t,o)=>(a(),l("div",ee,[i("div",null,[m(j,{class:"rotating",icon:"icon-loading",size:50}),i("p",null,p(e.text),1)])]))});te.__scopeId="data-v-f8bcab08";const oe=e=>{let t=~~(e/3600),o=~~(e%3600/60),a=~~(e%60);return t=t<10?"0"+t:t,o=o<10?"0"+o:o,a=a<10?"0"+a:a,`${t}:${o}:${a}`};e("data-v-e16a62e8");const ae={class:"d-player-lightoff"},le=["muted","loop","poster"],ie=["src","type"],se={key:1,class:"d-player-control"},ne={class:"d-progress-bar"},de={class:"d-progress-cover"},re={class:"d-control-tool"},ce={class:"d-tool-bar"},ue={class:"d-tool-item"},me={class:"d-tool-item d-tool-time"},pe=i("span",{style:{margin:"0 3px"}},"/",-1),ve={class:"total-time"},he={class:"d-tool-bar"},ye={class:"d-tool-item",style:{width:"26px"}},ge={class:"d-tool-item-main"},fe={class:"speed-main"},we=["onClick"],be={class:"d-tool-item"},ze={class:"d-tool-item-main volume-box",style:{width:"52px"}},Ve={class:"volume-main"},Le={class:"volume-text-size"},Me={class:"volume-line"},Te={class:"d-tool-item"},xe={class:"d-tool-item-main"},Pe={class:"speed-main"},ke=d(" 镜像画面 "),Se=d(" 循环播放 "),Ee=d(" 关灯模式 "),_e=i("div",{class:"d-tool-item-main"},"画中画",-1),Ce=i("div",{class:"d-tool-item-main"},"网页全屏",-1),Re=i("div",{class:"d-tool-item-main"},"全屏",-1);t();var He=r(I(B({},{name:"vue3VideoPlay"}),{props:{options:{type:Object,default:()=>({})}},emits:["loadstart","durationchange","progress","canplay","timeupdate"],setup(e,{emit:t}){const o=e;v((e=>({ab74d396:n(C),"8bf8076c":n(Ye),"6cac9323":n(Ne)})));const r={width:"800px",height:"450px",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirrorMode:!1,ligthOff:!1,volumeSize:30,control:!0,source:{title:"鲨鱼集合",type:"video/mp4",src:"https://cdn.theguardian.tv/webM/2015/07/20/150716YesMen_synd_768k_vp8.webm"},poster:""};let k=h(null),S=h(null),E=h(null);const _=f(I(B(B({dVideo:null},r),o.options),{muted:o.options.autoPlay,isPaused:!o.options.autoPlay||!r.autoPlay,loading:!0,fullScreen:!1,handleType:"",currentTime:"00:00:00",playRatio:0,loadRatio:0,totalTime:"00:00:00",isVideoHovering:!0,draging:!1,startY:0,speedActive:"1.0",isMultiplesPlay:!1,longPressTimeout:null,progressCursorX:0,progressCursorTime:"00:00:00"})),C=(R=_.color,`${parseInt("0x"+R.slice(1,3))},${parseInt("0x"+R.slice(3,5))},${parseInt("0x"+R.slice(5,7))}`);var R;const H=D(1e3,(()=>{_.handleType=""})),O=(e,t)=>{let o=e.keyCode||e.code;37==o||"ArrowLeft"==o?"keyup"==t&&(_.dVideo.currentTime=_.dVideo.currentTime<10?.1:_.dVideo.currentTime-10,q(_.dVideo)):38==o||"ArrowTop"==o?"keydown"==t&&(_.muted=!1,_.handleType="volume",H(),_.volumeSize=_.volumeSize+10>100?100:_.volumeSize+10):39==o||"ArrowRight"==o?"keyup"==t?(clearTimeout(_.longPressTimeout),_.isMultiplesPlay?(_.dVideo.playbackRate=_.speedActive,_.isMultiplesPlay=!1):(_.dVideo.currentTime=_.dVideo.currentTime+10,q(_.dVideo))):"keydown"==t&&(_.isMultiplesPlay&&clearTimeout(_.longPressTimeout),_.longPressTimeout=setTimeout((()=>{_.isMultiplesPlay=!0,_.dVideo.playbackRate=5,_.isPaused=!1,_.dVideo.play(),_.handleType="playbackRate",H()}),500)):40!=o&&"ArrowDown"!=o||"keydown"==t&&(_.muted=!1,_.handleType="volume",H(),_.volumeSize=_.volumeSize-10<0?0:_.volumeSize-10)},A=()=>{_.isPaused?_.dVideo.play():_.dVideo.pause(),_.isPaused=!_.isPaused},$=e=>{_.loading=!0,t("loadstart",e)},F=e=>{t("durationchange",e),_.totalTime=oe(e.target.duration)},X=e=>{t("progress",e);let o=e.target.duration,a=e.target.buffered.length,l=e.target.buffered.length&&e.target.buffered.end(a-1);_.loadRatio=(l/o*100).toFixed(2)},Y=e=>{_.loading=!1,t("canplay",e),o.options.muted?_.dVideo.muted=!0:(g((()=>{})),_.dVideo.volume=_.volumeSize/100),_.autoPlay&&(_.isPaused=!1,_.dVideo.play())},q=e=>{t("timeupdate",e);let o=e.duration||e.target.duration,a=e.currentTime||e.target.currentTime;_.playRatio=(a/o*100).toFixed(2),_.currentTime=oe(a)},U=()=>{_.muted=!_.muted},W=e=>{e.preventDefault(),G(e,"y"),window.addEventListener("mousemove",K),window.addEventListener("touchmove",K),window.addEventListener("mouseup",Q),window.addEventListener("touchend",Q),window.addEventListener("contextmenu",Q)},G=(e,t)=>{_.muted=!1,_.draging=!0,"y"==t&&(_.startY=e.clientY-e.offsetY);let o=Ie(e,E.value,"y");_.volumeSize=100*o,_.dVideo.volume=o},K=e=>{if(!_.draging)return;let t=Ie(e,E.value,"y");_.volumeSize=100*t,_.dVideo.volume=t},Q=e=>{_.draging&&(setTimeout((()=>{_.draging=!1}),0),window.removeEventListener("mousemove",K),window.removeEventListener("touchmove",K),window.removeEventListener("mouseup",Q),window.removeEventListener("touchend",Q),window.removeEventListener("contextmenu",Q))},ee=e=>{let t=S.value.clientWidth;_.progressCursorX=e.offsetX,_.progressCursorTime=oe(_.dVideo.duration*(e.offsetX/t))},He=e=>{e.preventDefault(),Oe(e),window.addEventListener("mousemove",Be),window.addEventListener("touchmove",Be),window.addEventListener("mouseup",Ae),window.addEventListener("touchend",Ae),window.addEventListener("contextmenu",Ae)},Oe=(e,t)=>{e.preventDefault(),_.draging=!0,_.playRatio=100*Ie(e,S.value),_.currentTime=oe(e.target.duration*Ie(e,S.value)),_.dVideo.currentTime=_.dVideo.duration*(_.playRatio/100)},Be=e=>{e.preventDefault(),_.draging&&(_.playRatio=100*Ie(e,S.value),_.currentTime=oe(_.dVideo.duration*Ie(e,S.value)),_.dVideo.currentTime=_.dVideo.duration*(_.playRatio/100))},Ie=(e,t,o)=>{if("touchmove"!==e.type&&"touchstart"!==e.type||(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),"y"==o){let o=t.clientHeight,a=(o-(e.clientY-_.startY))/o;return a<0?0:a>1?1:a}{let o=t.clientWidth,a=(e.clientX-S.value.offsetLeft)/o;return a<0?0:a>1?1:a}},Ae=e=>{_.draging&&(setTimeout((()=>{_.draging=!1,_.dVideo.play(),_.isPaused=!1}),0),window.removeEventListener("mousemove",Be),window.removeEventListener("touchmove",Be),window.removeEventListener("mouseup",Ae),window.removeEventListener("touchend",Ae),window.removeEventListener("contextmenu",Ae))},De=D(2500,(()=>{_.isVideoHovering=!1})),$e=e=>{_.isVideoHovering=!0,De()};(async()=>{await g(),_.dVideo=k,window.addEventListener("keydown",(e=>{O(e,"keydown")})),window.addEventListener("keyup",(e=>{O(e,"keyup")}))})();const je=()=>{var e;e=_.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch((e=>{console.log(e,"Video failed to leave Picture-in-Picture mode.")})):e.requestPictureInPicture().catch((e=>{console.log(e,"Video failed to enter Picture-in-Picture mode.")}))},Fe=()=>{var e;e=S.value,document.webkitIsFullScreen||document.fullscreen?(document.exitFullscreen||document.webkitExitFullScreen).call(document):(e.requestFullscreen||myvideo.webkitRequestFullScreen).call(e),document.webkitIsFullScreen?_.fullScreen=!1:_.fullScreen=!0};let{webFullScreen:Xe,width:Ye,height:Ne,fullScreen:qe,volumeSize:Ue,speedActive:We}=w(_);return(t,o)=>(a(),l("div",{class:y(["d-player-wrap",{"web-full-screen":n(Xe),"d-player-wrap-hover":n(_).isPaused||n(_).isVideoHovering}]),ref:S,onMousemove:$e},[c(m(te,null,null,512),[[u,n(_).loading]]),m(z,{name:"d-fade-in"},{default:b((()=>[c(i("div",ae,null,512),[[u,n(_).lightOff]])])),_:1}),i("video",V({ref:k,controls:!1,class:["d-player-main",{"video-mirror":n(_).mirrorMode}]},t.$attrs,{onLoadstart:$,onDurationchange:F,onProgress:X,onCanplay:Y,onTimeupdate:q,muted:n(_).muted,loop:n(_).loop,width:"100%",height:"100%",poster:n(_).poster}),[i("source",{src:n(_).source.src||"",type:n(_).source.type||""},null,8,ie)],16,le),n(qe)?(a(),L(N,{key:0,source:e.options.source},null,8,["source"])):M("",!0),i("div",{class:"d-player-state",onClick:A},[m(J,{state:n(_)},null,8,["state"])]),n(_).control?(a(),l("div",se,[i("div",{class:"d-control-progress",onMousemove:ee,onMousedown:He,onTouchstart:He},[i("div",ne,[i("div",{class:"d-progress-subtitle",style:s({left:n(_).progressCursorX+"px"})},[i("div",de,p(n(_).progressCursorTime),1)],4),i("div",{class:"d-progress-play",style:s({width:`${n(_).playRatio}%`})},null,4),i("div",{class:"d-progress-load",style:s({width:`${n(_).loadRatio}%`})},null,4)])],32),i("div",re,[i("div",ce,[i("div",ue,[m(j,{onClick:A,size:"24",icon:"icon-"+(n(_).isPaused?"play":"pause")},null,8,["icon"])]),i("div",me,[i("span",null,p(n(_).currentTime),1),pe,i("span",ve,p(n(_).totalTime),1)])]),i("div",he,[i("div",ye,[d(p("1.0"==n(We)?"倍速":n(We)+"X")+" ",1),i("div",ge,[i("ul",fe,[(a(!0),l(T,null,x(e.options.speedRate,(e=>(a(),l("li",{class:y({"speed-active":n(We)==e}),onClick:t=>{return o=e,_.speedActive=o,void(_.dVideo.playbackRate=o);var o},key:e},p(e)+"X",11,we)))),128))])])]),i("div",be,[i("div",ze,[i("div",Ve,[i("span",Le,p(n(_).muted?0:~~n(Ue))+"%",1),i("div",{ref:E,class:"volume-body",onMousedown:W,onTouchstart:W},[i("div",Me,[i("p",{class:"volume-line-range",style:s({height:`${n(_).muted?0:n(Ue)}%`})},null,4)])],544)])]),m(j,{onClick:U,size:"18",icon:"icon-volume-"+(0==n(Ue)||n(_).muted?"mute":n(Ue)>50?"up":"down")},null,8,["icon"])]),i("div",Te,[m(j,{size:"20",icon:"icon-settings"}),i("div",xe,[i("ul",Pe,[i("li",null,[ke,m(Z,{modelValue:n(_).mirrorMode,"onUpdate:modelValue":o[0]||(o[0]=e=>n(_).mirrorMode=e)},null,8,["modelValue"])]),i("li",null,[Se,m(Z,{modelValue:n(_).loop,"onUpdate:modelValue":o[1]||(o[1]=e=>n(_).loop=e)},null,8,["modelValue"])]),i("li",null,[Ee,m(Z,{modelValue:n(_).lightOff,"onUpdate:modelValue":o[2]||(o[2]=e=>n(_).lightOff=e)},null,8,["modelValue"])])])])]),i("div",{class:"d-tool-item",onClick:je},[m(j,{size:"20",icon:"icon-pip"}),_e]),i("div",{class:"d-tool-item",onClick:o[3]||(o[3]=e=>P(Xe)?Xe.value=!n(Xe):Xe=!n(Xe))},[m(j,{size:"20",icon:"icon-web-screen"}),Ce]),i("div",{class:"d-tool-item",onClick:Fe},[Re,m(j,{size:"20",icon:"icon-screen"})])])])])):M("",!0)],34))}}));function Oe(e){e.component(He.name,He)}He.__scopeId="data-v-e16a62e8",He.install=Oe;export{He as default,Oe as install,He as videoPlay};
